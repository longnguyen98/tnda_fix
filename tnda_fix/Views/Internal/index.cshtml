@{
    Layout = "~/Views/Shared/InternalLayout.cshtml";
}
<script>
    $(document).ready(function () {
        var url_string = window.location.href;
        var url = new URL(url_string);
        var id = url.searchParams.get("id");
        $('#current_location').val(url_string);
        $.ajax({
            url: "/person/getPersonDetail",
            data: { id: id },
            success: function (result) {
                console.log(result);
                new Vue({
                    el: '#vue_app',
                    data: {
                        detail: result,
                        id: id
                    }
                });
                if (result.id == 4) {
                    window.alert('Xin chao Thuy Tien xinh dep');
                }
                $("#vue_app").show();
            }
        });
       
    });
</script>
<div id="vue_app" style="display:none">
    <br />
    <div class="bg-light">
        <div class="my-content">
            <div class="row mb-2 shadow" style="width:100%">
                <div class="col-lg-12">
                    <div class="card d-flex">
                        <div class="card-body row d-flex justify-content-center">
                            <div class="col-lg-4 col-sm-6 mb-2">
                                <img class="card-img-top rounded mb-1" :src="detail.img" alt="Img" />
                                <form action="/person/setimg" method="post" enctype="multipart/form-data">
                                    <input type="text" hidden name="id" :value="id" />
                                    <div class="input-group">
                                        <div class="input-group-append">
                                            <button class="btn btn-sm btn-outline-success" type="submit">Cập nhật</button>
                                        </div>
                                        <div class="custom-file">
                                            <label for="file_input" class="custom-file-label">hình ảnh</label>
                                            <input id="file_input" required type="file" name="file" class="custom-file-input h-100">
                                        </div>

                                    </div>
                                </form>
                            </div>
                            <div class="col-lg-8 col-sm-12 mb-2">
                                <p><h5 class="card-title">{{detail.ch_name}} {{detail.fname}} {{detail.name}}</h5></p>
                                <h6 class="card-subtitle mb-2 text-muted">{{detail.role}}</h6>
                                <p class="card-text">Ngày sinh: <b>{{detail.birth}}</b></p>
                                <p class="card-text">Địa chỉ: <b>{{detail.address}}</b></p>
                                <p class="card-text">Số điện thoại: <b>{{detail.phone}}</b></p>
                                <p class="card-text">Lớp: <b>{{detail.pclass}}</b></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mb-2 shadow" style="width:100%">
                <div class="col-lg-12 col-sm-12 mb-2">
                    <div class="card d-flex">
                        <div class="card-body  d-flex flex-row-reverse">
                            <button type="button" class="btn btn-info" data-toggle="modal" data-target="#edit-modal">Sửa thông tin</button>                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade bd-example-modal-lg" id="edit-modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content p-5">
                <form action="/person/EditPerson" method="post">
                    <input name="current_location" id="current_location" type="hidden" />
                    <div class="form-group">
                        <input hidden type="text" class="form-control" :value=detail.id name="child-id">
                    </div>
                    <div class="form-group">
                        <label>Tên thánh</label>
                        <input type="text" class="form-control" :value=detail.ch_name name="child-ch-name" required pattern="\S+.*">
                    </div>
                    <div class="form-group">
                        <label>Họ và đệm </label>
                        <input type="text" class="form-control" :value=detail.fname name="child-fname" required pattern="\S+.*">
                    </div>
                    <div class="form-group">
                        <label>Tên</label>
                        <input type="text" class="form-control" :value=detail.name name="child-name" required pattern="\S+.*">
                    </div>
                    <div class="form-group">
                        <label>Ngày tháng năm sinh</label>
                        <input type="text" class="form-control" :value=detail.birth name="child-birth" required>
                    </div>
                    <div class="form-group">
                        <label>Giới tính</label>
                        <select class="form-control" name="child-gender" :value=detail.genderValue>
                            <option value="true">Nam</option>
                            <option value="false">Nữ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Địa chỉ</label>
                        <input type="text" class="form-control" :value=detail.address name="child-address" required>
                    </div>
                    <div class="d-flex flex-row-reverse">
                        <button type="submit" class="btn btn-primary m-2">Lưu</button>
                        <button class="btn btn-danger" data-dismiss="modal">Hủy</button>
                    </div>
                    
                </form>
            </div>
        </div>
    </div>
</div>

<br />


